<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<link rel="stylesheet" type="text/css" href="http://visapi-gadgets.googlecode.com/svn/trunk/pilesofmoney/pom.css"/>
    <script type="text/javascript" src="http://visapi-gadgets.googlecode.com/svn/trunk/pilesofmoney/pom.js"></script>
   
    <script type='text/javascript'>
      google.load('visualization', '1', {packages:['gauge']});
      google.setOnLoadCallback(drawChart);
      function drawChart() {
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Label');
        data.addColumn('number', 'Value');
        data.addRows([
          ['Status', 10],
          ['Pro-activity', 55],
          ['task', 55]
        ]);

        var options = {
          width: 250, height: 165,
          redFrom: 50, redTo: 100,
          yellowFrom:25, yellowTo: 50,
          minorTicks: 5
        };

        var chart = new google.visualization.Gauge(document.getElementById('chart_div'));
        chart.draw(data, options);
      }
    </script>
    <script type="text/javascript" src="/assets/javascript/heartrate.js"></script>
    
    <script type="text/javascript">
      document.addEventListener("DOMContentLoaded", init, false);

      /* The init function creates a 2d context, runs setup and starts draw loop */
      function init() {
          var ctx = document.getElementById("monitor").getContext("2d");
          window.heartRate = new HeartRate({ context: ctx });
          window.setInterval(draw, 50);
      }

      // Draws the heartrate monitor.
      function draw() {     
        // heartRate.monitor(xPosition, yPosition);
        heartRate.monitor();
      }
    </script>
    <h1>Status</h1>
<section class="row">
    <section class="span6 info">
        <h3>Information</h3>
        <span>Information about your status</span>
        <section>
            <h4>Heart rate</h4>
            <canvas id="monitor" width="435" height="50"></canvas>
        </section>
        <section>
            <h4>Activities</h4>
            <div id='chart_div'></div>
        </section>
        <section>
            <h4>Ranking</h4>
            <%= image_tag 'images/ninja.png', :width => 125 %>
            <%= image_tag 'images/ninja.png', :width => 125 %>
            <%= image_tag 'images/ninja.png', :width => 125 %>
        </section>
    </section>
    <section class="span6 chart">
        <h3>Schedular</h3>
        <span>Your revenue so far</span>
        <%= render 'shared/calendar' %>
        <h3>New</h3>
        <%= form_for(@event) do |f| %>
            <div class="clearfix">
                <%= f.label :title %>
                <div class="input">
                    <%= f.text_field :title %>
                </div>
            </div>
            <%= f.hidden_field :user_id, :value => current_user.id %>
        	<div class="actions">
                <%= f.submit "Sign up", :class => "btn primary" %>
            </div>
        <% end %>

        <h3>Events</h3>
        <span>Your upcoming events.</span>
        <table class="table table-striped table-bordered table-condensed">
        	<thead>
        		<tr>
        			<th>Title</th>
        			<th>Date from</th>
        			<th>Date to</th>
        			<th>Location</th>
        			<th>eventtype</th>
        			<th>crm</th>
        			<th>tips</th>
        		</tr>
        	</thead>
        	<tbody>
        		<% current_user.events.each do |event| %>
        		<tr>
        			<td><%= event.title %></td>
        			<td><%= event.date_from %></td>
        			<td><%= event.date_to %></td>
        			<td><%= event.location %></td>
        			<td><%= event.eventtype %></td>
        			<td><%= event.crm %></td>
        			<td><%= event.tips %></td>
        		</tr>
        		<% end %>
        	</tbody>
        </table>
    </section>
    
</section>